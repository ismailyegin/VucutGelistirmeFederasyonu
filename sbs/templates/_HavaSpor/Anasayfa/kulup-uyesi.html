{% extends 'base_layout.html' %}
{% block content %}

    <section class="content">

        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Ana Sayfa
            </h1>
            <ol class="breadcrumb float-sm-right" style="line-height: 0.3rem;">
                {% for url in urls %}
                    <li class="breadcrumb-item"><a href="{{ url.last }}">{{ url.last_url_name }}</a>
                    </li>
                    <li class="breadcrumb-item active">{{ url_name.name }}</li>
                {% endfor %}
            </ol>
        </section>

        <!-- Main content -->
        <section class="content">
            <!-- Info boxes -->
            <div class="row">
                <div class="col-lg-6 col-xs-6">
                    <!-- small box -->
                    <div class="small-box bg-blue">
                        <div class="inner">
                            <h3>{{ total_athlete }}</h3>

                            <p>Sporcu Sayısı</p>
                        </div>
                        <div class="icon">
                            <i class="fa  fa-flag-checkered"></i>
                        </div>
                        <a href="" class="small-box-footer">
                            Daha Fazla <i class="fa fa-arrow-circle-right"></i>
                        </a>
                    </div>
                </div>
                <!-- ./col -->

                <!-- ./col -->
                <div class="col-lg-6 col-xs-6">
                    <!-- small box -->
                    <div class="small-box bg-yellow">
                        <div class="inner">
                            <h3>{{ total_club_user }}</h3>

                            <p>Üye Sayısı</p>
                        </div>
                        <div class="icon">
                            <i class="fa fa-users"></i>
                        </div>
                        <a href="" class="small-box-footer">
                            Daha Fazla <i class="fa fa-arrow-circle-right"></i>
                        </a>
                    </div>
                </div>

            </div>
            <!-- /.row -->

            <section class="content ">

                {% if athletes.all %}

                    <div class="row">


                        <div class="card card-primary card-outline">
                            <div class="card-header with-border">
                                <h3 class="card-title">Bilgileri Eksik Sporcular</h3>
                            </div>

                            <div class="card-body">
                                <table id="sporcular" class="table table-bordered table-hover">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th> Ad Soyad</th>


                                        <th>İşlemler</th>


                                    </tr>
                                    </thead>
                                    <tbody>

                                    {% for athlete in athletes %}
                                        <tr>
                                            <td>{{ forloop.counter }} </td>
                                            <td>{{ athlete.user.first_name }} {{ athlete.user.last_name }} </td>

                                            <td>
                                                <div class="btn-group">
                                                    <a href=""
                                                       type="button" class="btn btn-warning"><i
                                                            class="fa fa-edit"></i>İncele
                                                    </a>


                                                </div>
                                            </td>

                                        </tr>

                                    {% endfor %}


                                    </tbody>
                                </table>

                            </div>


                            <!-- /.box -->


                        </div>


                    </div>


                    <script>
                        $(function () {
                            $('#sporcular').DataTable({


                                dom: 'Bfrtip',

                                language: {
                                    buttons: {
                                        pageLength: {
                                            _: " %d  Tane Göster",
                                            '-1': "Hepsini Göster"
                                        }
                                    }
                                },

                                lengthMenu: [
                                    [10, 25, 50, 100, -1],
                                    ['10 tane', '25 tane ', '50 tane ', '100 Tane', 'Hepsini Getir']
                                ],

                                'buttons': [


                                    {
                                        extend: "pageLength",
                                    },


                                    {
                                        extend: 'colvis',
                                        text: '<i class=" fa  fa-th-list"></i>',
                                        titleAttr: 'Ekle Çıkar'


                                    },
                                    {
                                        extend: 'print',
                                        title: 'Sporcular',
                                        text: '<i class="fa  fa-print"></i>',
                                        exportOptions: {
                                            columns: [0, 1, 2, 3, 4, 5]
                                        },
                                        titleAttr: 'Yazdır'
                                    },
                                    {
                                        extend: 'pdfHtml5',
                                        download: 'open',
                                        text: '<i class="fa fa-file-pdf-o"></i>',
                                        exportOptions: {
                                            columns: [0, 1, 2, 3, 4, 5]
                                        },
                                        titleAttr: 'Pdf Kaydet'
                                    },

                                    {
                                        extend: 'excelHtml5',
                                        title: 'Sporcular',
                                        text: '<i class="fa fa-file-excel-o"></i>',
                                        messageTop: 'Halter Bilgi Sistemi ',

                                        exportOptions: {

                                            columns: [0, 2, 1, 3, 4, 5]

                                        },
                                        titleAttr: 'Excel Kaydet'
                                    },
                                    {
                                        text: '<i class="fa fa-file-text-o"></i>',
                                        action: function (e, dt, button, config) {
                                            var data = dt.buttons.exportData();

                                            $.fn.dataTable.fileSave(
                                                new Blob([JSON.stringify(data)]),
                                                'Sporcular.json'
                                            );
                                        }
                                    }


                                ],
                                'bubble': true,
                                'paging': true,
                                'lengthChange': true,
                                'searching': true,
                                'ordering': true,
                                'info': true,
                                'autoWidth': true,
                                'responsive': true,
                                {#'select': true,#}


                            });

                        });


                    </script>


                {% endif %}
{% endblock %}